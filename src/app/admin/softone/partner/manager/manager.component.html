<div class="app-admin-partner-manager">
    <div class="row">
        <div class="col-12 d-flex justify-content-between">
            <div class="admin-heading"  style="text-transform: unset !important">
                PARTNER > {{ "Manager information" | translate }}
            </div>

            <div>
                <button class="btn btn-default" routerLink="/admin/partner"><i class="material-icons align-text-bottom">
                    arrow_back
                </i> <span>Back</span></button>
            </div>
        </div>
    </div>

    <app-admin-partner-tab></app-admin-partner-tab><br>
    <form [formGroup]="form">
        <div class="form-group row col-md-8">
            <label class="col-sm-2 col-form-label">User no</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" [(ngModel)]="partner.pid"
                formControlName="pid" name="pid" placeholder="User no">
            </div>
        </div>
        <div class="form-group row col-md-8">
            <label class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" [(ngModel)]="partner.pm_name"
                formControlName="pm_name" name="pm_name"  placeholder="name">
                <div *ngIf="partner.pm_name.length>100" class="text-danger"> 
                    Name cannot be greater than 100 characters
                </div>
                <div *ngIf="form.controls.pm_name.invalid" class="text-danger"> 
                    Name is required
                </div>
            </div>
        </div>

        <div class="form-group row col-md-8">
            <label class="col-sm-2 col-form-label">id</label>
            <div class="col-sm-10">
                <input type="text" [(ngModel)]="partner.pm_id"
                formControlName="pm_id" class="form-control" name="pm_id"  placeholder="name">
                <div *ngIf="partner.pm_id.length>50" class="text-danger"> 
                    Length cannot be greater than 50 characters
                </div>
                <div *ngIf="form.controls.pm_id.invalid" class="text-danger"> 
                    Id is required
                </div>
            </div>
        </div>

        <div class="form-group row col-md-8">
                <label class="col-sm-2 col-form-label">Contact</label>
                <div class="col-sm-10">
                    <input type="number" [(ngModel)]="partner.pm_phone"
                    formControlName="pm_phone" onkeydown="javascript: return event.keyCode == 69 ? false : true" class="form-control" name="pm_phone"  placeholder="Contact">
                    <div *ngIf="partner.pm_phone>999999999999999&&activeForm" class="text-danger"> 
                        Contact field is maximum 15 characters
                    </div>
                    <div *ngIf="partner.pm_phone<100000000&&activeForm" class="text-danger"> 
                        Contact field is min 9 characters
                    </div>
                    <div *ngIf="form.controls.pm_phone.invalid&&partner.pm_phone!='' && partner.pm_phone!=null" class="text-danger"> 
                        Contact is required
                    </div>
                </div>
            </div>
        <div class="form-group row col-md-8">
            <label class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input type="email" [(ngModel)]="partner.email"
                formControlName="email" class="form-control" name="email" placeholder="Email" pattern="^[a-zA-Z0-9\.]{2,}@[a-zA-Z0-9]{2}(?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z](?:[a-zA-Z-]{0,61}[a-zA-Z])?)(?=.*[\.])*$">
                <div *ngIf="form.controls.email.invalid&&partner.email!=''&& partner.email!=null" class="text-danger"> 
                    Email must be a valid email address
                </div>
                <div *ngIf="partner.email==''" style="color: red">
                    Email is required
                </div>
            </div>
        </div>

        <div class="actions d-flex justify-content-end col-md-8">
            <button class="btn btn-default mr-1" routerLink="/admin/partner">
                <i class="material-icons align-text-bottom">
                    cancel
                </i> <span> {{ "cancel" | translate }}</span>
            </button>
            <button class="btn btn-primary mr-1" (click)="updatePartner()" >
                <i class="material-icons align-text-bottom" >
                    save
                </i> <span> Save </span>
            </button>
        </div>
    </form>
   
</div>


